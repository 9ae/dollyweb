<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
 <script id="shader-fs" type="x-shader/x-fragment">
#ifdef GL_ES
  precision highp float;
#endif

  varying vec2 vTextureCoord;

  uniform sampler2D uSampler;

  void main() {
    gl_FragColor = texture2D(uSampler, vec2(vTextureCoord.s, vTextureCoord.t));
  }
</script>

<script id="shader-vs" type="x-shader/x-vertex">
 attribute vec3 aVertexPosition;
  attribute vec2 aTextureCoord;
  attribute vec3 aVertexNormal;

  uniform mat4 uMVMatrix;
  uniform mat4 uPMatrix;

  varying vec2 vTextureCoord;


  void main() {
    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);
    vTextureCoord = aTextureCoord;
  }
</script>
<script type="text/javascript" src="http://tux.aliceq.com/lib/syl/sylvester.js"></script>
<script type="text/javascript" src="http://tux.aliceq.com/lib/glUtils.js"></script>
<script type="text/javascript" src="http://tux.aliceq.com/lib/webgl-trace.js"></script>
<script type="text/javascript" src="helpers.js"></script>
<script type="text/javascript" src="initvars.js"></script>
<script type="text/javascript" src="limb.js"></script>
<script type="text/javascript">


    function draw(){
    gl.viewport(0, 0, gl.viewportWidth, gl.viewportHeight);
    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);

    perspective(45, gl.viewportWidth / gl.viewportHeight, 0.1, 100.0);
    loadIdentity();

    mvTranslate([0.0, 0.0, -10.0]);

  //  mvRotate(xRot, [1, 0, 0]);
  //  mvRotate(yRot, [0, 1, 0]);
//Bind texture
 gl.activeTexture(gl.TEXTURE0);
    gl.bindTexture(gl.TEXTURE_2D, imgTexture);
    gl.uniform1i(shaderProgram.samplerUniform, 0);

    head.bindBuffers();
    }

    function loadObjFiles(){
        //Head
        head = new Limb("models/Head.obj");
       loadObj(head);
    	head.createBuffers();
    }

    function initwebGL() {
    var canvas = document.getElementById("plato");
    initGL(canvas);
     gl.setTracing(true);
    initShaders();
    loadObjFiles();
    initTextures();
    gl.clearColor(0.0, 0.0, 0.0, 1.0);
    gl.clearDepth(1.0);
    gl.enable(gl.DEPTH_TEST);
    gl.depthFunc(gl.LEQUAL);
	draw();
 //  setInterval(draw,15);
  }

</script>
    <title>vMannequin</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  </head>
  <body bgcolor="#a0a0a0">
    <canvas id="plato" width="500" height="500" style="border:2px solid white"></canvas>
        <textarea id="ioprints" cols="15" rows="15" ></textarea>
    <script type="text/javascript">
        function print2io(stuff){
   var box = document.getElementById("ioprints");
   box.value = box.value + stuff + "\n";
}
        initwebGL();
    </script>
  </body>
</html>
